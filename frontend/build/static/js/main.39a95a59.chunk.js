(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(3),u=n.n(i);n(9),n(10);function o(e){var t=e.label,n=e.startTime,i=e.pausedTime,u=e.resumedTime,o=e.isPaused,l=e.onClick,m=Object(r.useState)(""),f=Object(a.a)(m,2),h=f[0],d=f[1],p=Object(r.useState)(""),b=Object(a.a)(p,2),j=b[0],O=b[1];return console.log("re-render"),Object(r.useEffect)((function(){console.log("paused: "+o.toString()),console.log("start time: "+n),o?(d(null==n?"00:00:00":s(i-n)),O(null==u?"00:00:00":s(new Date-u))):(d(s(new Date-n)),O(s(new Date-u)))}),[n]),function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){d(s(new Date-n)),O(s(new Date-u))}),o?null:500),c.a.createElement("div",{className:"timer-container",onClick:function(){return l()}},c.a.createElement("h2",{className:"timer-label"},t),c.a.createElement("p",{className:"timer"},h),c.a.createElement("p",{className:"timer-split-time"},j))}function s(e){var t=Math.floor(e%864e5/36e5),n=Math.floor(e%36e5/6e4),a=Math.floor(e/1e3%60),r=t,c=n,i=a;return t<10&&(r="0"+t),n<10&&(c="0"+n),a<10&&(i="0"+a),r+":"+c+":"+i}function l(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],i=t[1],u=Object(r.useState)(null),s=Object(a.a)(u,2),l=s[0],f=s[1],h=Object(r.useState)(null),d=Object(a.a)(h,2),p=d[0],b=d[1],j="https://time.sahilkapur.com/server";Object(r.useEffect)((function(){fetch(j+"/getStates").then((function(e){return e.json()})).then((function(e){var t=[];e.timers.forEach((function(e){var n=e.is_paused?O:v;b(e.name),t.push(c.a.createElement(o,{label:e.name,isPaused:e.is_paused,startTime:e.start_time?new Date(e.start_time):null,resumedTime:e.resumed_time?new Date(e.resumed_time):null,pausedTime:e.resumed_time?new Date(e.paused_time):null,onClick:function(){return n({name:e.name})}}))})),f(t)}))}),[n]);var O=function(e){var t=e.name;fetch(j+"/startTimer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timerName:t})}).then((function(e){return e.json()})).then((function(e){i(!n)}))},v=function(e){var t=e.name;fetch(j+"/stopTimer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timerName:t})}).then((function(e){return e.json()})).then((function(e){i(!n)}))};return c.a.createElement("div",null,l,c.a.createElement(m,{name:p,refreshFlag:n,updateRefreshFlag:i}))}function m(e){var t=e.name,n=e.updateRefreshFlag,a=e.refreshFlag;return c.a.createElement("button",{onClick:function(){fetch("https://time.sahilkapur.com/server/clearTimer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timerName:t})}).then((function(e){return e.json()})).then((function(e){n(!a)}))},className:"clear-btn"},"\u2715")}u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l,null)),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.39a95a59.chunk.js.map